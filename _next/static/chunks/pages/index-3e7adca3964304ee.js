(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{741:(e,s,i)=>{"use strict";i.d(s,{A:()=>r});var a=i(7876),t=i(4232);let r=e=>{let{shop:s,data:i,reviews:r}=e,[l,c]=(0,t.useState)(0),[n,o]=(0,t.useState)(4);(0,t.useEffect)(()=>{let e=()=>{window.innerWidth<=768?o(1):o(4)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]);let d=r.slice(l,l+n);return(0,a.jsx)("section",{className:"testimonials",id:"reviews",children:(0,a.jsxs)("div",{className:"wrapper",children:[(0,a.jsx)("img",{onClick:e=>{document.querySelector("section.badge-container > img").click()},src:"https://bpybtzxqypswjiizkzja.supabase.co/storage/v1/object/public/ecom/christopeit-france/avis-verifies.svg",alt:"Avis v\xe9rifi\xe9s"}),(0,a.jsxs)("h2",{children:[i.reviewLabel," ",(0,a.jsx)("span",{children:s.domain.toLowerCase()})]}),(0,a.jsx)("span",{className:"info-rate",children:i.reviewDesc}),(0,a.jsxs)("div",{className:"testimonials-slider",children:[(0,a.jsx)("button",{className:"slider-arrow left",onClick:()=>{c(e=>0===e?Math.max(0,r.length-n):e-n)},children:"‹"}),(0,a.jsx)("div",{className:"testimonial-list",children:d.map((e,s)=>(0,a.jsxs)("div",{className:"testimonial",children:[(0,a.jsxs)("article",{className:"star-head",children:[(0,a.jsx)("div",{className:"stars",children:[void 0,void 0,void 0,void 0,void 0].map((s,i)=>(0,a.jsx)("span",{className:"stars-item ".concat(i<Number(e.stars)?"full":"")},i))}),(0,a.jsxs)("span",{className:"rate",children:[(0,a.jsx)("b",{children:e.stars}),"/5"]})]}),(0,a.jsx)("p",{className:"review-content",children:e.content}),(0,a.jsxs)("span",{className:"review-info",children:[i.reviewInfo1," ",(0,a.jsx)("b",{children:e.reviewDate}),i.reviewInfo2," ",e.experienceDate," ",i.reviewInfo3," ",(0,a.jsx)("b",{children:e.author})]})]},s))}),(0,a.jsx)("button",{className:"slider-arrow right",onClick:()=>{c(e=>e+n>=r.length?0:e+n)},children:"›"})]}),(0,a.jsx)("button",{onClick:e=>{document.querySelector("section.badge-container > img").click()},className:"view-more",children:i.reviewCta})]})})}},1474:(e,s,i)=>{"use strict";i.d(s,{A:()=>l});var a=i(7876),t=i(4232);let r=e=>{let{currentPage:s,totalPages:i,onPageChange:t}=e;return(0,a.jsxs)("div",{className:"pagination",children:[(0,a.jsx)("button",{onClick:()=>t(s-1),disabled:1===s,style:{visibility:1===s?"hidden":"visible"},children:(0,a.jsx)("i",{className:"fas fa-chevron-left"})}),(0,a.jsxs)("span",{children:[s," sur ",i]}),(0,a.jsx)("button",{onClick:()=>t(s+1),disabled:s===i,style:{visibility:s===i?"hidden":"visible"},children:(0,a.jsx)("i",{className:"fas fa-chevron-right"})})]})},l=e=>{let{title:s,products:i,description:l,disablePagination:c=!1,categories:n,data:o,shop:d}=e,[h,m]=(0,t.useState)(1),[u,p]=(0,t.useState)(null),x=(0,t.useRef)(null),j=i.filter(e=>e.shop_id===d.id);console.log("Products for shop.id:",d.id,j);let v=15*h,g=c?j:j.slice(v-15,v),N=Math.ceil(j.length/15),w=e=>{let s;let i=new Date;if("Express"===e)s=2;else if("Fast"===e)s=3;else{if("Normal"!==e)return"";s=4}let a=new Date(i.getTime()+864e5*s);return"".concat(a.toLocaleDateString("fr-FR",{weekday:"long",month:"long",day:"numeric"})," ").concat(a.getFullYear())};return(0,a.jsx)("section",{className:"products",id:"catalogue",children:(0,a.jsxs)("div",{className:"wrapper",children:[s&&(0,a.jsx)("h2",{children:s}),(0,a.jsx)("div",{className:"product-filters"}),(0,a.jsx)("div",{className:"product-list",ref:x,children:g.map(e=>{var s,i;return e.category_slug||e.category_id,(0,a.jsxs)("a",{href:"/".concat(e.slug),className:"product-item ".concat(e.bestseller?"best-seller":""),onMouseEnter:()=>p(e.slug),onMouseLeave:()=>p(null),children:[(0,a.jsxs)("span",{className:"best-wrap bg-main color-primary",children:["\uD83C\uDFC6 ",o.productBestsellerLabel]}),(0,a.jsx)("img",{src:u===e.slug&&(null===(s=e.images)||void 0===s?void 0:s[1])?e.images[1]:null===(i=e.images)||void 0===i?void 0:i[0],alt:e.title}),(0,a.jsx)("h3",{children:e.title}),(0,a.jsxs)("p",{className:"stock ".concat(e.stock.startsWith(o.productStockLowLabel)?"low":""),children:[(0,a.jsx)("span",{children:"⋅"}),e.stock]}),(0,a.jsxs)("p",{className:"delivery",children:["Livraison estim\xe9e : ",w(e.delivery)]}),(0,a.jsx)("p",{className:"price"}),(0,a.jsx)("p",{children:e.discounted?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("span",{className:"initial-price",children:[e.discounted.toLocaleString(d.language,{minimumFractionDigits:2}),d.currency]}),(0,a.jsxs)("span",{className:"new-price color-primary",children:[e.price.toLocaleString(d.language,{minimumFractionDigits:2}),d.currency]})]}):"".concat(e.price.toLocaleString(d.language,{minimumFractionDigits:2})).concat(d.currency)})]},e.id)})}),!c&&j.length>15&&(0,a.jsx)(r,{currentPage:h,totalPages:N,onPageChange:e=>{m(e),window.scrollTo({top:x.current.offsetTop-100,behavior:"smooth"})}})]})})}},2936:(e,s,i)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return i(9287)}])},9287:(e,s,i)=>{"use strict";i.r(s),i.d(s,{__N_SSG:()=>d,default:()=>h});var a=i(7876),t=i(4232),r=i(636),l=i(6790),c=i(1474),n=i(741),o=i(1759),d=!0;let h=e=>{let{data:s,shop:i,products:d,reviews:h}=e,[m,u]=(0,t.useState)(0),p=(0,t.useRef)(null);return(0,t.useEffect)(()=>{u((JSON.parse(localStorage.getItem("cart"))||[]).length)},[]),(0,t.useEffect)(()=>{p.current&&(p.current.playbackRate=.66)},[]),console.log("Shop logo:",i.logo),(0,a.jsxs)("div",{className:"container",children:[(0,a.jsx)(o.A,{name:i.name,domain:i.domain,title:"".concat(i.name," - ").concat(s.heroTitle)}),(0,a.jsxs)("main",{children:[(0,a.jsx)(r.A,{data:s,shop:i,reviews:h}),(0,a.jsxs)("section",{className:"hero",children:[(0,a.jsx)("h1",{children:s.heroTitle}),(0,a.jsx)("h3",{children:s.heroDesc}),(0,a.jsx)("div",{className:"filter"}),(0,a.jsx)("img",{src:s.heroMedia,alt:"Hero",className:"hero-image"})]}),(0,a.jsx)(c.A,{products:d,data:s,shop:i}),(0,a.jsx)(n.A,{data:s,shop:i,reviews:h})]}),(0,a.jsx)(l.A,{shop:i,data:s})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[938,676,636,593,792],()=>s(2936)),_N_E=e.O()}]);