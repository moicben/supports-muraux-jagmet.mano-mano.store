(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[681],{1116:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/verification",function(){return a(5698)}])},5698:(e,t,a)=>{"use strict";a.r(t),a.d(t,{__N_SSG:()=>o,default:()=>c});var n=a(7876),r=a(4232),s=a(9099),i=a(1759),o=!0;function c(e){let{shop:t}=e,a=(0,s.useRouter)(),{orderNumber:o}=a.query,[c,u]=(0,r.useState)("pending");return(0,r.useEffect)(()=>{if(!o)return;let e=setInterval(async()=>{try{let e=await fetch("/api/get-order-status?orderNumber=".concat(o),{method:"GET",headers:{"Content-Type":"application/json"}}),t=await e.json();"paid"===t.status?a.push("/confirmation?commande=".concat(o)):"failed"===t.status?a.push("/checkout?failed=true"):(console.log("Statut actuel: ".concat(t.status)),u(t.status))}catch(e){console.error("Erreur lors de la v\xe9rification du statut:",e)}},5e3);return()=>clearInterval(e)},[o,a]),(0,n.jsxs)("div",{className:"confirmation-container",children:[(0,n.jsx)(i.A,{name:t.name,domain:t.domain,title:"Confirmation - ".concat(t.name)}),(0,n.jsx)("h2",{children:"V\xe9rification du paiement"}),(0,n.jsx)("p",{children:"Nous v\xe9rifions votre paiement, cela peut prendre quelques minutes."}),(0,n.jsxs)("p",{children:["Statut actuel : ",c]}),(0,n.jsx)("div",{className:"loader border-top-primary"})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[636,593,792],()=>t(1116)),_N_E=e.O()}]);